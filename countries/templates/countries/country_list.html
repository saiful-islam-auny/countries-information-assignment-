<!DOCTYPE html>
<html>
  <head>
    <title>Country List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="p-4">
    <div class="container">
      <h2>Country Information</h2>

      <form method="get" class="mb-4">
        <div class="input-group">
          <input
            type="text"
            name="search"
            value="{{ search_query }}"
            class="form-control"
            placeholder="Search country by name..."
          />
          <button class="btn btn-primary" type="submit">Search</button>
        </div>
      </form>

      <table class="table table-bordered table-hover">
        <thead class="table-dark">
          <tr>
            <th>Name</th>
            <th>Code (cca2)</th>
            <th>Capital</th>
            <th>Population</th>
            <th>Timezone(s)</th>
            <th>Flag</th>
            <th>Details</th>
          </tr>
        </thead>
        <tbody>
          {% for country in countries %}
          <tr>
            <td>{{ country.name }}</td>
            <td>{{ country.cca2 }}</td>
            <td>{{ country.capital }}</td>
            <td>{{ country.population }}</td>
            <td>
              <ul>
                {% for tz in country.timezones %}
                <li>{{ tz }}</li>
                {% endfor %}
              </ul>
            </td>
            <td><img src="{{ country.flag }}" width="50" alt="Flag" /></td>
            <td>
              <a
                href="{% url 'country_details' country.id %}"
                class="btn btn-sm btn-info"
                >Details</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </body>
</html>
